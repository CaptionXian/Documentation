
**介绍**

斑马合约完整的部署方案涉及在用户本地部署数据桥接服务、数据输出服务等，部署之后再将准备的数据好的数据经由数据桥接服务上传到区块链中，随后再进行数据查询。对于想尝试斑马合约平台的新业务方而言，完整的部署流程有些重，因为业务方想做的仅仅是上传、查询，而非进行数据供应，故本节提供一种简化的操作流程，使得新业务方只需准备好数据后能直接将黑名单凭证上传到区块链上，上传之后可以开始对各家提供方的数据进行查询，等确定要加入斑马合约后，再进行完整的数据供应模块的部署。


**快速接入方式**

*1 账户注册*

对于全新用户，需要先通过 https://www.unitedata.link 创建数链账户。进入页面后，点击右上角“创建账户”来注册数链账户，并妥善保存好账户名、私钥。如果有任何疑问，请参考

https://help.unitedata.link/docs/%E9%92%B1%E5%8C%85%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E/%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C.html


*2 参与合约*

访问数链数据交易所 https://www.unitedata.link/exchange/home， 选择“斑马合约”，在新弹出的页面选择“我要参与”。有任何疑问，见

https://github.com/unitedata-org-public/Documentation/blob/master/banma_quick_start.md “参与合约”一节

*3 准备数据*

斑马合约要求用户将入黑用户的“特征指纹”上传到区块链中，以便将来查询时其他客户来对查得的数据做校验。所以需要准备好明文数据csv文件，格式为（姓名，身份证号，逾期信息）。

示例：


    {
        // 逾期金额枚举：small（小 <2k）、middle（中 2k-3k）、big（大 >3k）
        "amount": "big",
        //逾期类型：M2,M3
        "type": "M3",
        //入黑时间戳（毫秒）
        "into_time": "2019-01-01"
    }


示例csv如下：

    姓名,身份证,逾期信息
    张三,1231231245125125,{"amount":"big","type":"M3","into_time":"2019-01-01"}
    李四,1231231245125126,{"amount":"middle","type":"M2","into_time":"2019-01-01"}

这个文件被称为“明文文件”


*4 数据上传*

* 工具下载：

下载黑名单数据上传工具，地址：https://github.com/unitedata-org-public/ud-test-tool/releases，选择下载最新版本的test-tool.jar

* 上传数据：

    java -jar test-tool.jar  -o [结果文件名] -gtu [明文文件]   -a [数链账户名] -p [私钥] --eos-api-host https://www.unitedata.link/v1

这个命令将使得黑名单凭证信息上传到区块链上，并且会得到一个结果文件作为密文文件，请妥善保存这个密文文件，后续如果确定要使用数链斑马合约，会将这个密文文件里的信息存储到数据桥接服务（EDS系统）里面去。

*5 数据查询*

需要将要查询的文件转为（姓名，身份证）格式的csv，并用工具进行查询。详细说明请参考

https://github.com/unitedata-org-public/ud-test-tool/的“进行查询”一节。










